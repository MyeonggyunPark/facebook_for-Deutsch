<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="static/img/logo.png" type="image/png" />
  <title>전체 현황</title>
</head>
<body>
  
  <div id="map" class="w-full max-h-[75vh] h-[600px] sm:h-[500px] xs:h-[400px] border-4 border-black rounded-xl mb-6"></div>

    <p class="text-center text-gray-500 font-semibold text-base mb-6">
      ⬇️ 도시명 버튼을 누르면 지도에 위치가 표시됩니다.
    </p>

    <div id="city-list" class="grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-5 max-w-6xl mx-auto"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
      const map = L.map("map").setView([51.1657, 10.4515], 6);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "&copy; OpenStreetMap contributors",
      }).addTo(map);

      const blueIcon = new L.Icon({
        iconUrl:
          "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png",
        shadowUrl:
          "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41],
      });

      const redIcon = new L.Icon({
        iconUrl:
          "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",
        shadowUrl:
          "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41],
      });

      const locations = [
      { name: 'Aachen<br>(아헨)', lat: 50.775555, lng: 6.083611 },
      { name: 'Augsburg<br>(아우크스부르크)', lat: 48.371700, lng: 10.898500 },
      { name: 'Bad Soden<br>(바트 조덴)', lat: 50.139800, lng: 8.504600 },
      { name: 'Brüssel<br>(브뤼셀)', lat: 50.8503, lng: 4.3517 },
      { name: 'Berlin<br>(베를린)', lat: 52.520008, lng: 13.404954 },
      { name: 'Bielefeld<br>(빌레펠트)', lat: 52.030200, lng: 8.532500 },
      { name: 'Bochum<br>(보훔)', lat: 51.481800, lng: 7.216200 },
      { name: 'Bonn<br>(본)', lat: 50.737400, lng: 7.098200 },
      { name: 'Detmold<br>(데트몰트)', lat: 51.938000, lng: 8.873200 },
      { name: 'Dortmund<br>(도르트문트)', lat: 51.514244, lng: 7.468429 },
      { name: 'Düsseldorf<br>(뒤셀도르프)', lat: 51.227700, lng: 6.773500 },
      { name: 'Eschborn<br>(애쉬본)', lat: 50.143600, lng: 8.571500 },
      { name: 'Essen<br>(에센)', lat: 51.455643, lng: 7.011555 },
      { name: 'Frankfurt<br>(프랑크푸르트)', lat: 50.110900, lng: 8.682100 },
      { name: 'Frankfurt Flughafen<br>(프랑크푸르트 공항)', lat: 50.050000, lng: 8.570600 },
      { name: 'Freiburg<br>(프라이부르크)', lat: 47.999000, lng: 7.842100 },
      { name: 'Hagen<br>(하겐)', lat: 51.367100, lng: 7.463300 },
      { name: 'Halle&nbsp;(Saale)<br>(할레잘레)', lat: 51.482800, lng: 11.969200 },
      { name: 'Hamburg<br>(함부르크)', lat: 53.551100, lng: 9.993700 },
      { name: 'Hamm<br>(함)', lat: 51.683334, lng: 7.816667 },
      { name: 'Hannover<br>(하노버)', lat: 52.375900, lng: 9.732000 },
      { name: 'Karlsruhe<br>(칼스루에)', lat: 49.006889, lng: 8.403653 },
      { name: 'Koblenz<br>(코블렌츠)', lat: 50.356900, lng: 7.588900 },
      { name: 'Köln<br>(쾰른)', lat: 50.937500, lng: 6.960300 },
      { name: 'Krefeld<br>(크레펠트)', lat: 51.338800, lng: 6.585300 },
      { name: 'Leipzig<br>(라이프치히)', lat: 51.339700, lng: 12.373100 },
      { name: 'Liederbach am Taunus<br>(리더바흐 암 타우누스)', lat: 50.122500, lng: 8.493600 },
      { name: 'Mainz<br>(마인츠)', lat: 49.992900, lng: 8.247300 },
      { name: 'Mannheim<br>(만하임)', lat: 49.487500, lng: 8.466000 },
      { name: 'Marburg<br>(마르부르크)', lat: 50.810001, lng: 8.770833 },
      { name: 'Münster<br>(뮌스터)', lat: 51.960700, lng: 7.626100 },
      { name: 'Nürnberg<br>(뉘른베르크)', lat: 49.460983, lng: 11.061859 },
      { name: 'Osnabrück<br>(오스나브뤼크)', lat: 52.279900, lng: 8.047200 },
      { name: 'Paris<br>(파리)', lat: 48.856600, lng: 2.352200 },
      { name: 'Saarbrücken<br>(자르브뤼켄)', lat: 49.240200, lng: 6.996900 },
      { name: 'Wuppertal<br>(부퍼탈)', lat: 51.256200, lng: 7.150800 },
      { name: 'Würzburg<br>(뷔르츠부르크)', lat: 49.791300, lng: 9.953400 },
      { name: 'Zwickau<br>(츠비카우)', lat: 50.718900, lng: 12.496400 },
    ];

      const markers = {};
      let activeMarker = null;

      locations.forEach((loc) => {
        const marker = L.marker([loc.lat, loc.lng], { icon: blueIcon })
          .addTo(map)
          .bindPopup(`<b>${loc.name}</b>`);
        markers[loc.name] = marker;
      });

      const cityListEl = document.getElementById("city-list");
      locations.forEach((loc) => {
        const btn = document.createElement("button");
        btn.innerHTML = loc.name;
        btn.className =
          "bg-gradient-to-r from-blue-500 to-blue-700 text-white border-2 border-blue-700 rounded-xl px-4 py-2 text-sm sm:text-xs font-bold shadow hover:border-[#fabc02] hover:text-[#fabc02] transition";

        btn.addEventListener("click", () => {
          if (activeMarker) {
            activeMarker.setIcon(blueIcon);
            activeMarker.setZIndexOffset(0);
          }

          markers[loc.name].setIcon(redIcon);
          markers[loc.name].setZIndexOffset(1000);
          markers[loc.name].openPopup();
          activeMarker = markers[loc.name];
          window.scrollTo({ top: 0, behavior: "smooth" });
        });

        cityListEl.appendChild(btn);
      });

      const group = new L.featureGroup(Object.values(markers));
      map.fitBounds(group.getBounds());
    </script>
</body>
</html>